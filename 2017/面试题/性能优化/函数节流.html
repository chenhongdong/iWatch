<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        *{margin:0;padding:0;}
        #div{width:300px;background:#0c9;}
    </style>
</head>
<body>
<div id="div"></div>
</body>
</html>
<script>
    //函数节流
    /*
    *   每次清空所有的定时器
    *   然后再创建定时器,间隔100毫秒后再执行函数
    * */
    function test(method, context) {
        clearTimeout(method.timer);
        method.timer = setTimeout(function () {
            console.log('触发');
            method.call(context);
        }, 100);
    }

    window.onresize = function () {
        test(height);
    };

    function height() {
        var oDiv = document.getElementById('div');
        oDiv.style.height = oDiv.offsetWidth + 'px';
    }
</script>